---
interface Props {
  src?: string;
}

const { src }: Props = Astro.props;
---

<iframe
  src={src}
  class="iframe"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  referrerpolicy="strict-origin-when-cross-origin"
  allowfullscreen></iframe>

<script>
  const iframe = document.querySelector(".iframe");

  if (iframe) {
    iframe.addEventListener("load", () => {
      iframe.classList.add("loaded");
    });
  }
</script>

<script>
  const iframe = document.querySelector(".iframe");

  if (iframe) {
    iframe.addEventListener("load", () => {
      iframe.classList.add("loaded");
    });
  }
</script>

<style>
  .iframe {
    width: 100%;
    height: 100%;
    display: block;
    border: none;

    &.loaded {
      background-color: white;
    }
  }
</style>
